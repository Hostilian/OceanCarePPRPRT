# OceanCare Initiative - Environment Configuration
# Copy this file to .env and fill in actual values for production

# ========== ENVIRONMENT ==========
NODE_ENV=production
PORT=3000
HOST=0.0.0.0

# ========== DATABASE ==========
DATABASE_URL=postgresql://user:password@localhost:5432/oceancare
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
# For SQLite (development only):
# DB_PATH=./oceancare.db

# ========== SECURITY & JWT ==========
JWT_SECRET=your-256-bit-base64-secret-here-min-32-chars
JWT_EXPIRATION=7d
SESSION_SECRET=your-session-secret-min-32-chars

# ========== STRIPE (PAYMENTS) ==========
STRIPE_SECRET_KEY=sk_live_xxxxxxxxxxxxx
STRIPE_PUBLISHABLE_KEY=pk_live_xxxxxxxxxxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxx
STRIPE_WEBHOOK_URL=https://yourdomain.com/api/webhooks/stripe

# ========== EMAIL SERVICE ==========
# Choose one: 'sendgrid' or 'smtp'
EMAIL_SERVICE=sendgrid
SENDGRID_API_KEY=SG.xxxxxxxxxxxxx
FROM_EMAIL=noreply@yourdomain.com
FROM_NAME=OceanCare Initiative

# Alternative SMTP Configuration (if not using SendGrid)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_SECURE=false

# ========== EXTERNAL APIs ==========
# Open-Meteo (Weather) - FREE, no key needed
# OpenAQ (Air Quality) - FREE, no key needed
# Visual Crossing (Climate) - FREE tier available

# Google Maps API (Optional - for debris map)
GOOGLE_MAPS_API_KEY=AIza...
# Domain restriction: yourdomain.com

# GNews API (Optional - for news feed)
GNEWS_API_KEY=your-gnews-api-key

# ========== MONITORING & LOGGING ==========
SENTRY_DSN=https://examplePublicKey@o0.ingest.sentry.io/0
LOG_LEVEL=info
ENABLE_METRICS=true

# ========== BACKUP & MAINTENANCE ==========
BACKUP_DIR=./backups
BACKUP_RETENTION_DAYS=30
ENABLE_AUTO_BACKUP=true

# ========== CORS & SECURITY ==========
CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW_MS=900000

# ========== HTTPS & DOMAIN ==========
DOMAIN=yourdomain.com
# Set to 'true' in production
ENFORCE_HTTPS=true

# ========== OPTIONAL INTEGRATIONS ==========
# SendGrid Event Webhook URL
SENDGRID_WEBHOOK_URL=https://yourdomain.com/api/webhooks/email

# Analytics
GOOGLE_ANALYTICS_ID=G-XXXXXXXXXX

# Error Tracking
ROLLBAR_ACCESS_TOKEN=post_server_item_xxxxxxxxxxxxx


# Google Maps API Key - For debris report mapping
GOOGLE_MAPS_API_KEY=your_google_maps_api_key

# GNews API Key - For marine news aggregation (optional)
GNEWS_API_KEY=your_gnews_api_key_optional

# ========================================
# Email Configuration
# ========================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
SMTP_FROM=noreply@oceancare.org

# ========================================
# Feature Flags
# ========================================
ENABLE_PAYMENTS=true
ENABLE_NEWSLETTER=true
ENABLE_RECURRING_DONATIONS=true
ENABLE_MOBILE_APP_LOGIN=false

# ========================================
# Rate Limiting
# ========================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
SENSITIVE_RATE_LIMIT_MAX=10

# ========================================
# Logging
# ========================================
LOG_LEVEL=info
LOG_FILE=./logs/oceancare.log

# ========================================
# CORS Configuration
# ========================================
CORS_ORIGIN=http://localhost:3000,https://oceancare.org,https://www.oceancare.org

# ========================================
# Analytics (Optional)
# ========================================
GOOGLE_ANALYTICS_ID=UA-XXXXXXXXX-X
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# ========================================
# Development Only
# ========================================
# Set to true to enable debug logging and development features
DEBUG=false
MOCK_STRIPE=false
MOCK_EMAILS=false

# ========================================
# Production Considerations
# ========================================
# 1. Never commit .env files to version control
# 2. Use strong, random values for all secrets
# 3. Rotate secrets periodically
# 4. Use environment-specific configurations
# 5. Validate all environment variables on startup
# 6. Use secrets management tools (AWS Secrets Manager, HashiCorp Vault, etc.)
# 7. Enable HTTPS in production
# 8. Set up monitoring and alerting
# 9. Use database encryption at rest
# 10. Implement regular backups and disaster recovery

# ========================================
# Getting Started with API Keys
# ========================================
#
# Free API Keys for Development:
#
# 1. Open-Meteo (Weather): https://open-meteo.com (no key needed)
# 2. Nominatim (Geocoding): https://nominatim.org (no key needed)
# 3. GNews (News): https://gnews.io (free tier available)
# 4. OpenUV (UV Index): https://www.openuv.io (50 req/day free)
# 5. Stripe (Payments): https://stripe.com (test mode available)
# 6. Google Maps: https://developers.google.com/maps (free tier with limits)
#
# Recommended Setup for Local Development:
# - Use Stripe test keys (pk_test_*, sk_test_*)
# - Use mock values for email configuration
# - Leave optional API keys empty (code has fallbacks)
# - Use local SQLite database (already configured)
#
